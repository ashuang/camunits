<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Conversion Units and Unit Controls</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="libcam Tutorial"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Using a CamUnitChain"
HREF="x65.html"><LINK
REL="NEXT"
TITLE="Conversion Units"
HREF="x205.html"></HEAD
><BODY
CLASS="chapter"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>libcam Tutorial</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x65.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x205.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="chapter"
><H1
><A
NAME="ch-camunit"
></A
>Chapter 2. Conversion Units and Unit Controls</H1
><P
>&#13;        The example given in <A
HREF="c43.html"
>Chapter 1</A
> provides a simple
        description of how to use libcam to acquire images.  This chapter
        describes how to do two of the most basic operations:  insert
        units that convert frames from one image format to another, and
        accessing the controls exposed by a unit.
    </P
><P
>&#13;        Different image sensors and cameras 
    </P
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="camunit-specify-output"
>2.1. Specifying the output format of a Unit</A
></H1
><P
>&#13;        Some <CODE
CLASS="classname"
>CamUnit</CODE
> objects are able to output images
        in several formats.  For example, many cameras can produce images in
        a number of resolutions or have an option to perform on-board
        colorspace conversion.  To reflect this capability, a
        <CODE
CLASS="classname"
>CamUnit</CODE
> provides a list of
        <CODE
CLASS="classname"
>CamUnitFormats</CODE
> that it is able to produce.  In
        other cases, if a <CODE
CLASS="classname"
>CamUnit</CODE
> is not able to deal
        with its input format (e.g. if it expects 8bpp Grayscale data and is
        instead given 24bpp RGB) then it may report that it is unable to
        produce any output formats with its current input.
    </P
><P
>&#13;        When a <CODE
CLASS="classname"
>CamUnit</CODE
> is initialized (i.e. its status
        is set to <TT
CLASS="literal"
>CAM_UNIT_STATUS_READY</TT
>), a specific output
        format must be chosen.  The unit itself can arbitrarily pick one of
        its output formats (this is the default when using a
        <CODE
CLASS="classname"
>CamUnitChain</CODE
>), or an application can
        request a specific output format.  To do this, use the
        <CODE
CLASS="methodname"
>cam_unit_set_preferred_format</CODE
> method.
        <PRE
CLASS="programlisting"
>&#13;    int cam_unit_set_preferred_format (CamUnit *self, 
                            CamPixelFormat pixelformat, int width, int height);
        </PRE
>

        This method allows a program to request a specific pixel format and
        image size.  To indicate that any width or height is acceptable, you
        can specify a value of 0 for either the height or width parameter.  To
        indicate that any pixel format is acceptable, pass in the constant
        <TT
CLASS="literal"
>CAM_PIXEL_FORMAT_INVALID</TT
>.  When the unit is
        initialized by a chain, it will choose the output format best matching
        the requested parameters.
    </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x65.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x205.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Using a <CODE
CLASS="classname"
>CamUnitChain</CODE
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Conversion Units</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>