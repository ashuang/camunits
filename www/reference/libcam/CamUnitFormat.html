<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>CamUnitFormat</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
<link rel="start" href="index.html" title="libcam Reference Manual">
<link rel="up" href="ch01.html" title="Units">
<link rel="prev" href="CamUnit.html" title="CamUnit">
<link rel="next" href="CamUnitControl.html" title="CamUnitControl">
<meta name="generator" content="GTK-Doc V1.8 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="ch01.html" title="Units">
<link rel="chapter" href="ch02.html" title="Image Processing Chains">
<link rel="chapter" href="ch03.html" title="Built-in Units">
<link rel="chapter" href="ch04.html" title="Other stuff">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="CamUnit.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch01.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">libcam Reference Manual</th>
<td><a accesskey="n" href="CamUnitControl.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts"><nobr><a href="#id2581471" class="shortcut">Top</a>
                  &#160;|&#160;
                  <a href="#id2565195" class="shortcut">Description</a>
                  &#160;|&#160;
                  <a href="#id2565171" class="shortcut">Object Hierarchy</a></nobr></td></tr>
</table>
<div class="refentry" lang="en">
<a name="CamUnitFormat"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2>
<a name="id2581471"></a><span class="refentrytitle">CamUnitFormat</span>
</h2>
<p>CamUnitFormat &#8212; Describes how to interpret the data in a <a href="CamFrameBuffer.html" title="CamFrameBuffer"><span class="type">CamFrameBuffer</span></a>
object.</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">



                    <a href="CamUnitFormat.html#CamUnitFormat-struct">CamUnitFormat</a>;
<a href="CamUnitFormat.html" title="CamUnitFormat">CamUnitFormat</a>*      <a href="CamUnitFormat.html#cam-unit-format-new">cam_unit_format_new</a>                 (<a href="libcam-pixels.html#CamPixelFormat">CamPixelFormat</a> pfmt,
                                                         const char *name,
                                                         int width,
                                                         int height,
                                                         int row_stride,
                                                         int max_data_size);
int                 <a href="CamUnitFormat.html#cam-unit-format-equals">cam_unit_format_equals</a>              (const <a href="CamUnitFormat.html" title="CamUnitFormat">CamUnitFormat</a> *self,
                                                         const <a href="CamUnitFormat.html" title="CamUnitFormat">CamUnitFormat</a> *a);

</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2565171"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">

  GObject
   +----CamUnitFormat
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2565195"></a><h2>Description</h2>
<p>
The CamUnitFormat class specifies how to interpret the data field in a
<a href="CamFrameBuffer.html" title="CamFrameBuffer"><span class="type">CamFrameBuffer</span></a> generated by a <a href="CamUnit.html" title="CamUnit"><span class="type">CamUnit</span></a>.  The most important is the
<code class="literal">pixelformat</code> field, which specifies how the image is actually represented.
Typicaly values for <code class="literal">pixelformat</code> are CAM_PIXEL_FORMAT_GRAY,
CAM_PIXEL_FORMAT_I420, CAM_PIXEL_FORMAT_RGB, etc.  Additionally, the
CamUnitFormat class specifies the width and height of an image, the row
stride (for pixel formats where stride is meaningful), and the maximum
length of the image data (for variable length formats such as JPEG and other
compressed formats)
</p>
<p>
Each instance of a <a href="CamUnit.html" title="CamUnit"><span class="type">CamUnit</span></a> provides a list of output formats that it is
able to produce.  On initialization, one of these output formats must be
specified.  Once a unit is initialized, it is expected to produce
<a href="CamFrameBuffer.html" title="CamFrameBuffer"><span class="type">CamFrameBuffer</span></a> objects (via the "frame-ready" signal) formatted according
to the specified CamUnitFormat.</p>
<p>

</p>
</div>
<div class="refsect1" lang="en">
<a name="id2566843"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id2566854"></a><h3>
<a name="CamUnitFormat-struct"></a>CamUnitFormat</h3>
<a class="indexterm" name="id2566865"></a><pre class="programlisting">typedef struct {
    CamPixelFormat pixelformat;
    char * name;
    int row_stride;
    int width;
    int height;
    int max_data_size;
} CamUnitFormat;
</pre>
<p>
</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><a href="libcam-pixels.html#CamPixelFormat">CamPixelFormat</a>&#160;<em class="structfield"><code>pixelformat</code></em>;</span></td>
<td> the <a href="libcam-pixels.html#CamPixelFormat"><span class="type">CamPixelFormat</span></a>
</td>
</tr>
<tr>
<td><span class="term">char&#160;*<em class="structfield"><code>name</code></em>;</span></td>
<td> a human-understandable description of the format 
</td>
</tr>
<tr>
<td><span class="term">int&#160;<em class="structfield"><code>row_stride</code></em>;</span></td>
<td> number of bytes separating rows.  For packed data, this is
             typically derived from pixelformat and width.  usually
             something like 
       <pre class="screen">stride = (width * cam_pixel_format_bpppixelformat) / 8</pre>. 
       Should be 0 for formats where stride is not meaningful (e.g.
       compressed formats or planar data).
</td>
</tr>
<tr>
<td><span class="term">int&#160;<em class="structfield"><code>width</code></em>;</span></td>
<td> the width, in pixels, of the frame
</td>
</tr>
<tr>
<td><span class="term">int&#160;<em class="structfield"><code>height</code></em>;</span></td>
<td> the height, in pixels, of the frame.
</td>
</tr>
<tr>
<td><span class="term">int&#160;<em class="structfield"><code>max_data_size</code></em>;</span></td>
<td> the maximum size of an image for this format, in bytes.
                Used mostly for internal buffer allocation
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2566041"></a><h3>
<a name="cam-unit-format-new"></a>cam_unit_format_new ()</h3>
<a class="indexterm" name="id2566054"></a><pre class="programlisting"><a href="CamUnitFormat.html" title="CamUnitFormat">CamUnitFormat</a>*      cam_unit_format_new                 (<a href="libcam-pixels.html#CamPixelFormat">CamPixelFormat</a> pfmt,
                                                         const char *name,
                                                         int width,
                                                         int height,
                                                         int row_stride,
                                                         int max_data_size);</pre>
<p>
</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>pfmt</code></em>&#160;:</span></td>
<td> the pixel format to use
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>name</code></em>&#160;:</span></td>
<td> a human-readable description of the overall unit format.  If set to
       NULL, a default name will be automatically chosen.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>width</code></em>&#160;:</span></td>
<td>  image width, in pixels
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>height</code></em>&#160;:</span></td>
<td> image height, in pixels
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>row_stride</code></em>&#160;:</span></td>
<td> number of bytes separating rows.  Should be 0 when the term row
             stride is not meaningful for the specified pixel format.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>max_data_size</code></em>&#160;:</span></td>
<td> the maximum number of bytes that an image of this format is
                expected to be.  This is typically used for internal buffer
                allocation.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> a newly created <a href="CamUnitFormat.html" title="CamUnitFormat"><span class="type">CamUnitFormat</span></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2598545"></a><h3>
<a name="cam-unit-format-equals"></a>cam_unit_format_equals ()</h3>
<a class="indexterm" name="id2598556"></a><pre class="programlisting">int                 cam_unit_format_equals              (const <a href="CamUnitFormat.html" title="CamUnitFormat">CamUnitFormat</a> *self,
                                                         const <a href="CamUnitFormat.html" title="CamUnitFormat">CamUnitFormat</a> *a);</pre>
<p>
</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>a</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> 1 if the two formats are equal in all values, 0 if not
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
</body>
</html>
