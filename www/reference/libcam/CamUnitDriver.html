<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>CamUnitDriver</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
<link rel="start" href="index.html" title="libcam Reference Manual">
<link rel="up" href="ch01.html" title="Units">
<link rel="prev" href="CamUnitControl.html" title="CamUnitControl">
<link rel="next" href="CamFrameBuffer.html" title="CamFrameBuffer">
<meta name="generator" content="GTK-Doc V1.8 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="ch01.html" title="Units">
<link rel="chapter" href="ch02.html" title="Image Processing Chains">
<link rel="chapter" href="ch03.html" title="Built-in Units">
<link rel="chapter" href="ch04.html" title="Other stuff">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="CamUnitControl.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch01.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">libcam Reference Manual</th>
<td><a accesskey="n" href="CamFrameBuffer.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts"><nobr><a href="#id2580088" class="shortcut">Top</a>
                  &#160;|&#160;
                  <a href="#id2558535" class="shortcut">Description</a>
                  &#160;|&#160;
                  <a href="#id2558430" class="shortcut">Object Hierarchy</a>
                  &#160;|&#160;
                  <a href="#id2558503" class="shortcut">Signals</a></nobr></td></tr>
</table>
<div class="refentry" lang="en">
<a name="CamUnitDriver"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2>
<a name="id2580088"></a><span class="refentrytitle">CamUnitDriver</span>
</h2>
<p>CamUnitDriver &#8212; Factory-like class that instantiates CamUnit objects.</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<a name="CamUnitDescription"></a><pre class="synopsis">



                    <a href="CamUnitDriver.html#CamUnitDescription-struct">CamUnitDescription</a>;
<a href="CamUnitDriver.html#CamUnitDescription">CamUnitDescription</a>* <a href="CamUnitDriver.html#cam-unit-description-new">cam_unit_description_new</a>            (<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a> *driver,
                                                         const char *name,
                                                         const char *unit_id,
                                                         uint32_t flags);
                    <a href="CamUnitDriver.html#CamUnitDriver-struct">CamUnitDriver</a>;
<a href="CamUnit.html" title="CamUnit">CamUnit</a>*            (<a href="CamUnitDriver.html#CamUnitConstructor">*CamUnitConstructor</a>)               (void);
<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a>*      <a href="CamUnitDriver.html#cam-unit-driver-new-stock">cam_unit_driver_new_stock</a>           (const char *package,
                                                         const char *driver_name,
                                                         const char *unit_name,
                                                         uint32_t flags,
                                                         <a href="CamUnitDriver.html#CamUnitConstructor">CamUnitConstructor</a> constructor);
<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a>*      <a href="CamUnitDriver.html#cam-unit-driver-new-stock-full">cam_unit_driver_new_stock_full</a>      (const char *package,
                                                         const char *driver_name,
                                                         const char *unit_name,
                                                         uint32_t flags,
                                                         <a href="CamUnitDriver.html#CamUnitConstructor">CamUnitConstructor</a> constructor,
                                                         GTypeModule *module);
<a href="CamUnit.html" title="CamUnit">CamUnit</a>*            <a href="CamUnitDriver.html#cam-unit-driver-create-unit">cam_unit_driver_create_unit</a>         (<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a> *self,
                                                         const <a href="CamUnitDriver.html#CamUnitDescription">CamUnitDescription</a> *udesc);
int                 <a href="CamUnitDriver.html#cam-unit-driver-start">cam_unit_driver_start</a>               (<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a> *self);
void                <a href="CamUnitDriver.html#cam-unit-driver-stop">cam_unit_driver_stop</a>                (<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a> *self);
const char*         <a href="CamUnitDriver.html#cam-unit-driver-get-package">cam_unit_driver_get_package</a>         (const <a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a> *self);
<a href="CamUnitDriver.html#CamUnitDescription">CamUnitDescription</a>* <a href="CamUnitDriver.html#cam-unit-driver-find-unit-description">cam_unit_driver_find_unit_description</a>
                                                        (<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a> *self,
                                                         const char *unit_id);
GList*              <a href="CamUnitDriver.html#cam-unit-driver-get-unit-descriptions">cam_unit_driver_get_unit_descriptions</a>
                                                        (<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a> *self);
<a href="CamUnitDriver.html#CamUnitDescription">CamUnitDescription</a>* <a href="CamUnitDriver.html#cam-unit-driver-add-unit-description">cam_unit_driver_add_unit_description</a>
                                                        (<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a> *self,
                                                         const char *name,
                                                         const char *unit_id,
                                                         uint32_t flags);
int                 <a href="CamUnitDriver.html#cam-unit-driver-remove-unit-description">cam_unit_driver_remove_unit_description</a>
                                                        (<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a> *self,
                                                         const char *unit_id);
void                <a href="CamUnitDriver.html#cam-unit-driver-set-name">cam_unit_driver_set_name</a>            (<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a> *self,
                                                         const char *package,
                                                         const char *name);

</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2558430"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">

  GObject
   +----GInitiallyUnowned
         +----CamUnitDescription
</pre>
<pre class="synopsis">

  GObject
   +----GInitiallyUnowned
         +----CamUnitDriver
               +----<a href="CamV4L.html#CamV4LDriver">CamV4LDriver</a>
               +----<a href="CamV4L2.html#CamV4L2Driver">CamV4L2Driver</a>
               +----<a href="CamInputExample.html#CamInputExampleDriver">CamInputExampleDriver</a>
               +----<a href="CamInputLog.html#CamInputLogDriver">CamInputLogDriver</a>
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2558503"></a><h2>Signals</h2>
<pre class="synopsis">

  "<a href="CamUnitDriver.html#CamUnitDriver-unit-description-added">unit-description-added</a>"                         : Run First
  "<a href="CamUnitDriver.html#CamUnitDriver-unit-description-removed">unit-description-removed</a>"                       : Run First
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2558535"></a><h2>Description</h2>
<p>
CamUnitDriver is a factory-like class that instantiates <a href="CamUnit.html" title="CamUnit"><span class="type">CamUnit</span></a> objects.
</p>
<p>
A CamUnitDriver serves two purposes.  The first is to provide a list of
<a href="CamUnitDriver.html#CamUnitDescription"><span class="type">CamUnitDescription</span></a> objects that describe the types of <a href="CamUnit.html" title="CamUnit"><span class="type">CamUnit</span></a> objects the
CamUnitDriver is able to instantiate.  The second is to instantiate a
<a href="CamUnit.html" title="CamUnit"><span class="type">CamUnit</span></a> object, given a <a href="CamUnitDriver.html#CamUnitDescription"><span class="type">CamUnitDescription</span></a>.
</p>
<p>
More concretely, it is often the case that multiple input devices of the
same type are attached to a computer (e.g. several DC1394 cameras, or
several USB V4L2 cameras).  The driver in this case probes the hardware upon
startup, enumerates the available options, and then releases hardware
resources.  The enumerated options are then converted into
<a href="CamUnitDriver.html#CamUnitDescription"><span class="type">CamUnitDescription</span></a> objects, which are presented to describe what the driver
can instantiate.  The user can then choose one of these descriptions and
request that an actual <a href="CamUnit.html" title="CamUnit"><span class="type">CamUnit</span></a> object be created to interface with that
specific input device.
</p>
<p>
The CamUnitDriver is useful primarily for input devices, where the steps
required to instantiate a <a href="CamUnit.html" title="CamUnit"><span class="type">CamUnit</span></a> may differ depending on the physical
device.  Pure software units such as color conversion filters do not have to
worry about this, and will typically use a "stock" CamUnitDriver -- see
#<a href="CamUnitDriver.html#cam-unit-driver-new-stock"><code class="function">cam_unit_driver_new_stock()</code></a>.
</p>
<p>
Unless you are writing a new input unit, or doing something other than
implementing a standard image processing filter, you should not have to deal
with this class very much, and <a href="CamUnitDriver.html#cam-unit-driver-new-stock"><span class="type">cam_unit_driver_new_stock</span></a> should be
sufficient.  The <a href="CamUnitManager.html" title="CamUnitManager"><span class="type">CamUnitManager</span></a> maintains a list of drivers to provide a
global view of what's available across all drivers, and the <a href="CamUnitChain.html" title="CamUnitChain"><span class="type">CamUnitChain</span></a>
should usually be used as a proxy to instantiate new <a href="CamUnit.html" title="CamUnit"><span class="type">CamUnit</span></a> objects.</p>
<p>

</p>
</div>
<div class="refsect1" lang="en">
<a name="id2610274"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id2610285"></a><h3>
<a name="CamUnitDescription-struct"></a>CamUnitDescription</h3>
<a class="indexterm" name="id2610297"></a><pre class="programlisting">typedef struct {
    CamUnitDriver * driver;
    char * name;
    char * unit_id;
    uint32_t flags;
} CamUnitDescription;
</pre>
<p>
Provides a brief description of an available unit, before that unit
is actually instantiated.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a>&#160;*<em class="structfield"><code>driver</code></em>;</span></td>
<td>  the <a href="CamUnitDriver.html" title="CamUnitDriver"><span class="type">CamUnitDriver</span></a> providing this description
</td>
</tr>
<tr>
<td><span class="term">char&#160;*<em class="structfield"><code>name</code></em>;</span></td>
<td>    a nickname / human-understandable name for the available unit
</td>
</tr>
<tr>
<td><span class="term">char&#160;*<em class="structfield"><code>unit_id</code></em>;</span></td>
<td> a string identifying the unit
</td>
</tr>
<tr>
<td><span class="term">uint32_t&#160;<em class="structfield"><code>flags</code></em>;</span></td>
<td>   a bitwise OR of <a href="CamUnit.html#CamUnitFlags"><span class="type">CamUnitFlags</span></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2610422"></a><h3>
<a name="cam-unit-description-new"></a>cam_unit_description_new ()</h3>
<a class="indexterm" name="id2610434"></a><pre class="programlisting"><a href="CamUnitDriver.html#CamUnitDescription">CamUnitDescription</a>* cam_unit_description_new            (<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a> *driver,
                                                         const char *name,
                                                         const char *unit_id,
                                                         uint32_t flags);</pre>
<p>
constructor.  creates a new CamUnitDescription.  When the description is no
longer needed, free it with <code class="function">g_object_unref()</code>.  You should not use this
unless you're implementing a new <a href="CamUnitDriver.html" title="CamUnitDriver"><span class="type">CamUnitDriver</span></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>driver</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>name</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>unit_id</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>flags</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td>


</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2560816"></a><h3>
<a name="CamUnitDriver-struct"></a>CamUnitDriver</h3>
<a class="indexterm" name="id2560828"></a><pre class="programlisting">typedef struct _CamUnitDriver CamUnitDriver;</pre>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2560844"></a><h3>
<a name="CamUnitConstructor"></a>CamUnitConstructor ()</h3>
<a class="indexterm" name="id2560856"></a><pre class="programlisting"><a href="CamUnit.html" title="CamUnit">CamUnit</a>*            (*CamUnitConstructor)               (void);</pre>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td>


</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2560893"></a><h3>
<a name="cam-unit-driver-new-stock"></a>cam_unit_driver_new_stock ()</h3>
<a class="indexterm" name="id2560904"></a><pre class="programlisting"><a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a>*      cam_unit_driver_new_stock           (const char *package,
                                                         const char *driver_name,
                                                         const char *unit_name,
                                                         uint32_t flags,
                                                         <a href="CamUnitDriver.html#CamUnitConstructor">CamUnitConstructor</a> constructor);</pre>
<p>
Creates a "stock" unit driver that always has a single unit available with
the specified unit id, flags.  Invoking <em class="parameter"><code>constructor</code></em> should always return a
new CamUnit.
</p>
<p>
This is useful if you're implementing something like a filter that doesn't
need any special driver functionality.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>package</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>driver_name</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>unit_name</code></em>&#160;:</span></td>
<td>   the name to assign <a href="CamUnit.html" title="CamUnit"><span class="type">CamUnit</span></a> objects instantiated by the
              driver.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>flags</code></em>&#160;:</span></td>
<td> a bitwise OR of <a href="CamUnit.html#CamUnitFlags"><span class="type">CamUnitFlags</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>constructor</code></em>&#160;:</span></td>
<td> Invoking this function should return a newly allocated
<a href="CamUnit.html" title="CamUnit"><span class="type">CamUnit</span></a> object.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> a stock <a href="CamUnitDriver.html" title="CamUnitDriver"><span class="type">CamUnitDriver</span></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2561094"></a><h3>
<a name="cam-unit-driver-new-stock-full"></a>cam_unit_driver_new_stock_full ()</h3>
<a class="indexterm" name="id2561105"></a><pre class="programlisting"><a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a>*      cam_unit_driver_new_stock_full      (const char *package,
                                                         const char *driver_name,
                                                         const char *unit_name,
                                                         uint32_t flags,
                                                         <a href="CamUnitDriver.html#CamUnitConstructor">CamUnitConstructor</a> constructor,
                                                         GTypeModule *module);</pre>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>package</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>driver_name</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>unit_name</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>flags</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>constructor</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>module</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td>


</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2561268"></a><h3>
<a name="cam-unit-driver-create-unit"></a>cam_unit_driver_create_unit ()</h3>
<a class="indexterm" name="id2561280"></a><pre class="programlisting"><a href="CamUnit.html" title="CamUnit">CamUnit</a>*            cam_unit_driver_create_unit         (<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a> *self,
                                                         const <a href="CamUnitDriver.html#CamUnitDescription">CamUnitDescription</a> *udesc);</pre>
<p>
Creates a new instance of a <a href="CamUnit.html" title="CamUnit"><span class="type">CamUnit</span></a> using the provided description.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>udesc</code></em>&#160;:</span></td>
<td> a description of the unit to instantiate
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> a newly created <a href="CamUnit.html" title="CamUnit"><span class="type">CamUnit</span></a> object.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2561377"></a><h3>
<a name="cam-unit-driver-start"></a>cam_unit_driver_start ()</h3>
<a class="indexterm" name="id2561388"></a><pre class="programlisting">int                 cam_unit_driver_start               (<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a> *self);</pre>
<p>
Instructs a driver to do whatever it needs to do to discover available
units.  This is most applicable to drivers that need to reserve system
resources such as network sockets or file descriptors.  A unit driver is not
guaranteed to discover available units until it has been started.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> 0 on success, -1 on failure
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2561454"></a><h3>
<a name="cam-unit-driver-stop"></a>cam_unit_driver_stop ()</h3>
<a class="indexterm" name="id2561465"></a><pre class="programlisting">void                cam_unit_driver_stop                (<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a> *self);</pre>
<p>
Instructs a unit driver to stop discovering new units and release whatever
resources it used for doing so.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></td>
<td>


</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2561516"></a><h3>
<a name="cam-unit-driver-get-package"></a>cam_unit_driver_get_package ()</h3>
<a class="indexterm" name="id2561528"></a><pre class="programlisting">const char*         cam_unit_driver_get_package         (const <a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a> *self);</pre>
<p>
</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> the package of the unit driver.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2561590"></a><h3>
<a name="cam-unit-driver-find-unit-description"></a>cam_unit_driver_find_unit_description ()</h3>
<a class="indexterm" name="id2561604"></a><pre class="programlisting"><a href="CamUnitDriver.html#CamUnitDescription">CamUnitDescription</a>* cam_unit_driver_find_unit_description
                                                        (<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a> *self,
                                                         const char *unit_id);</pre>
<p>
Looks for a <a href="CamUnitDriver.html#CamUnitDescription"><span class="type">CamUnitDescription</span></a> provided by the driver that matches the 
specified <em class="parameter"><code>unit_id</code></em>.  If no such unit description is found, then
search_unit_description is invoked to specifically query the unit driver.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>unit_id</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> the matching <a href="CamUnitDriver.html#CamUnitDescription"><span class="type">CamUnitDescription</span></a>, or NULL if no such description 
was found
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2561712"></a><h3>
<a name="cam-unit-driver-get-unit-descriptions"></a>cam_unit_driver_get_unit_descriptions ()</h3>
<a class="indexterm" name="id2561725"></a><pre class="programlisting">GList*              cam_unit_driver_get_unit_descriptions
                                                        (<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a> *self);</pre>
<p>
Obtains a list of <a href="CamUnitDriver.html#CamUnitDescription"><span class="type">CamUnitDescription</span></a> objects describing all units this
driver is able to instantiate.  This list should be released with
g_list_free when no longer needed.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> a GList of <a href="CamUnitDriver.html#CamUnitDescription"><span class="type">CamUnitDescription</span></a> objects
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2561804"></a><h3>
<a name="cam-unit-driver-add-unit-description"></a>cam_unit_driver_add_unit_description ()</h3>
<a class="indexterm" name="id2561818"></a><pre class="programlisting"><a href="CamUnitDriver.html#CamUnitDescription">CamUnitDescription</a>* cam_unit_driver_add_unit_description
                                                        (<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a> *self,
                                                         const char *name,
                                                         const char *unit_id,
                                                         uint32_t flags);</pre>
<p>
Protected method.  Adds a new unit description to the driver.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>name</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>unit_id</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>flags</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> the newly added <a href="CamUnitDriver.html#CamUnitDescription"><span class="type">CamUnitDescription</span></a>.  It is safe to ignore the
return value if you don't need it.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2561954"></a><h3>
<a name="cam-unit-driver-remove-unit-description"></a>cam_unit_driver_remove_unit_description ()</h3>
<a class="indexterm" name="id2561967"></a><pre class="programlisting">int                 cam_unit_driver_remove_unit_description
                                                        (<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a> *self,
                                                         const char *unit_id);</pre>
<p>
Protected method.  Removes a unit description from the driver.  Calling
this will emit the "unit-description-removed" signal.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>unit_id</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> 0 on success, -1 on failure (if the specified unit was not found)
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2562054"></a><h3>
<a name="cam-unit-driver-set-name"></a>cam_unit_driver_set_name ()</h3>
<a class="indexterm" name="id2562065"></a><pre class="programlisting">void                cam_unit_driver_set_name            (<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a> *self,
                                                         const char *package,
                                                         const char *name);</pre>
<p>
Protected method.  Sets the package and name of the driver.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>package</code></em>&#160;:</span></td>
<td>  The name of the package.  Can be NULL.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>name</code></em>&#160;:</span></td>
<td>     The name of the driver.  Must not be NULL.
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div class="refsect1" lang="en">
<a name="id2562161"></a><h2>Signal Details</h2>
<div class="refsect2" lang="en">
<a name="id2562172"></a><h3>
<a name="CamUnitDriver-unit-description-added"></a>The "unit-description-added" signal</h3>
<a class="indexterm" name="id2562182"></a><pre class="programlisting">void                user_function                      (<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a>      *driver,
                                                        <a href="CamUnitDriver.html#CamUnitDescription">CamUnitDescription</a> *udesc,
                                                        gpointer            user_data)      : Run First</pre>
<p>
The unit-description-added signal is emitted when a CamUnitDriver
adds a CamUnitDescription to its list of available units.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>driver</code></em>&#160;:</span></td>
<td> the CamUnitDriver emitting the signal
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>udesc</code></em>&#160;:</span></td>
<td> the CamUnitDescription just added
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2562278"></a><h3>
<a name="CamUnitDriver-unit-description-removed"></a>The "unit-description-removed" signal</h3>
<a class="indexterm" name="id2562288"></a><pre class="programlisting">void                user_function                      (<a href="CamUnitDriver.html" title="CamUnitDriver">CamUnitDriver</a>      *driver,
                                                        <a href="CamUnitDriver.html#CamUnitDescription">CamUnitDescription</a> *udesc,
                                                        gpointer            user_data)      : Run First</pre>
<p>
The unit-description-removed signal is emitted when a CamUnitDriver
removes a CamUnitDescription from its list of available units.
</p>
<p>
<code class="literal">udesc</code> is guaranteed to be valid through the duration of the signal
handlers, but is not guaranteed to be valid afterwards.  Thus, signal
handlers should not retain references to <code class="literal">udesc</code>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>driver</code></em>&#160;:</span></td>
<td> the CamUnitDriver emitting the signal
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>udesc</code></em>&#160;:</span></td>
<td> the CamUnitDescription being removed
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
</body>
</html>
